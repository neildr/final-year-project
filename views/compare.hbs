<script type="text/javascript" src="https://www.gstatic.com/charts/loader.js" style="display: none"></script>
<script type="text/javascript">
google.charts.load('current', {'packages':['corechart']});
{{#if matches1.valid}}
function championsPlayed1() {
  var data = google.visualization.arrayToDataTable([
    ['Champion', 'Times played'],
    {{#each matches1.championCountUse}}
    ['{{this.name}}', {{this.count}}],
    {{/each}}
  ]);

  var options = {
    pieHole: 1,
    pieSliceTextStyle: {
      color: 'white',
    },
    fontName: 'Nunito',
    fontSize: '11',
    backgroundColor:{
        fill: '#FFFFFF',
        fillOpacity: 0.0
    },
    legend: {
        textStyle: {
            color: 'white'
        }
    },
    chartArea:{left:10,bottom:5, width:'80%',height:'80%'}
  };

  var chart = new google.visualization.PieChart(document.getElementById('pieC1'));
  chart.draw(data, options);
}


function rolesPlayed1() {

  var data = google.visualization.arrayToDataTable([
    ['Roles Played', 'Times played'],
    ['TOP', {{matches1.actualpositionCount.TOP}}],
    ['JUNGLE', {{matches1.actualpositionCount.JUNGLE}}],
    ['MID', {{matches1.actualpositionCount.MID}}],
    ['ADC', {{matches1.actualpositionCount.ADC}}],
    ['SUPPORT', {{matches1.actualpositionCount.SUPPORT}}],
  ]);

  var options = {
    pieHole: 1,
    pieSliceTextStyle: {
      color: 'white',
    },
    fontName: 'Nunito',
    fontSize: '11',
    backgroundColor:{
        fill: '#FFFFFF',
        fillOpacity: 0.0
    },
    legend: {
        textStyle: {
            color: 'white'
        }
    },
    chartArea:{left:10,bottom:5, width:'80%',height:'80%'}
  };

  var chart = new google.visualization.PieChart(document.getElementById('pieR1'));
  chart.draw(data, options);
}
google.charts.setOnLoadCallback(championsPlayed1);
google.charts.setOnLoadCallback(rolesPlayed1);
{{else}}
{{/if}}
{{#if matches2.valid}}
function championsPlayed2() {

  var data = google.visualization.arrayToDataTable([
    ['Champion', 'Times played'],
    {{#each matches2.championCountUse}}
    ['{{this.name}}', {{this.count}}],
    {{/each}}
  ]);

  var options = {
    pieHole: 1,
    pieSliceTextStyle: {
      color: 'white',

    },
    fontName: 'Nunito',
    fontSize: '11',
    backgroundColor:{
        fill: '#FFFFFF',
        fillOpacity: 0.0
    },
    legend: {
        textStyle: {
            color: 'white'
        }
    },
    chartArea:{left:10,bottom:5, width:'80%',height:'80%'}
  };

  var chart = new google.visualization.PieChart(document.getElementById('pieC2'));
  chart.draw(data, options);
}
function rolesPlayed2() {

  var data = google.visualization.arrayToDataTable([
    ['Roles Played', 'Times played'],
    ['TOP', {{matches2.actualpositionCount.TOP}}],
    ['JUNGLE', {{matches2.actualpositionCount.JUNGLE}}],
    ['MID', {{matches2.actualpositionCount.MID}}],
    ['ADC', {{matches2.actualpositionCount.ADC}}],
    ['SUPPORT', {{matches2.actualpositionCount.SUPPORT}}],
  ]);

  var options = {
    pieHole: 1,
    pieSliceTextStyle: {
      color: 'white',

    },
    fontName: 'Nunito',
    fontSize: '11',
    backgroundColor:{
        fill: '#FFFFFF',
        fillOpacity: 0.0
    },
    legend: {
        textStyle: {
            color: 'white'
        }
    },
    chartArea:{left:10,bottom:5, width:'80%',height:'80%'}
  };

  var chart = new google.visualization.PieChart(document.getElementById('pieR2'));
  chart.draw(data, options);
}
google.charts.setOnLoadCallback(championsPlayed2);
google.charts.setOnLoadCallback(rolesPlayed2);
{{else}}
{{/if}}
{{#if matches1.valid}}
    {{#if matches2.valid}}
    alert("we valid boys");
    {{/if}}
{{/if}}
</script>
<div class="bgImageContainer one">
</div>
<a href="/"><image class="logo" src="/../../images/logo.png" alt="LOLSTATS.GG HOME" title="LOLSTATS.GG HOME"/></a>
{{#if validRegion1}}
    {{#if validRegion2}}
        {{#if summoner1.exists}}
            {{#if summoner2.exists}}
                <div class="bodyContainer">
                    <div class="pageContent">
                        <h1 class="mainText">{{summoner1.name}} ({{summoner1.region}}) vs {{summoner2.name}} ({{summoner2.region}}) </h1>
                        </br>
                        {{#if matches1.valid}}
                            <div class="rowContainer top">
                                <div class="summaryRow center">
                                    <img class="wrapperImage rounded" src="http://stelar7.no/cdragon/latest/profile-icons/{{ summoner1.profileIconId }}.jpg" />
                                    <div class="summaryInfo">
                                        <div class="mainText">{{summoner1.name}}</div>
                                        <div class="mainText">{{summoner1.region}}</div>
                                        <div class="mainText">Level: {{summoner1.summonerLevel}}</div>
                                        <div class="mainText"><a class="urlStyle" href="/lookup/{{summoner1.region}}/{{summoner1.name}}">VIEW PROFILE</a></div>
                                    </div>
                                </div>
                                <div class="summaryRow center">
                                    {{#if rankedInfo1.tier}}
                                        <img class="wrapperImage" src="/../../images/ranked/{{rankedInfo1.tier}}_{{rankedInfo1.rank}}.png" />
                                        <div class="summaryInfo">
                                            <div class="mainText">{{ rankedInfo1.tier }} {{rankedInfo1.rank}} </div>
                                            <div class="mainText">{{rankedInfo1.leaguePoints}} LP</div>
                                            <div class="mainText">Win: {{rankedInfo1.winRateRanked}}%</div>
                                            <div class="mainText">Games played: {{rankedInfo1.totalGamesRanked}}</div>
                                        </div>
                                    {{else}}
                                        <img class="wrapperImage" src="/../../images/ranked/unranked.png" />
                                        <div class="summaryInfo">
                                            <p class="mainText">Unranked</p>
                                        </div>
                                    {{/if}}
                                </div>
                                <div class="summaryRow center">
                                    <img class="wrapperImage rounded" src="http://stelar7.no/cdragon/latest/champion-icons/{{mastery1.championId}}.png" />
                                    <img class="wrapperImage" src="/../../images/mastery/champMasteryLevel_{{mastery1.championLevel}}.png" />
                                    <div class="summaryInfo">
                                        <div class="mainText">{{mastery1.championName}}, {{mastery1.championTitle}}</div>
                                        <div class="mainText">Points: {{mastery1.championPoints}}</div>
                                    </div>
                                </div>
                            </div>
                            <div class="summaryTitle">
                                Role/Champion distribution of {{summoner1.name}} over last {{matches1.ids.length}} games </br>
                                Win Ratio: {{matches1.winRatio}}%
                            </div>
                            <div class="rowContainer bottom">
                                <div class="summaryRow">
                                    <img class="wrapperImage rounded" src="http://stelar7.no/cdragon/latest/champion-icons/{{matches1.modeChampion.info.mode}}.png" />
                                    <div class="summaryInfo">
                                        <div class="mainText">Most Played Champion</div>
                                        <div class="mainText">{{matches1.modeChampion.name}}, {{matches1.modeChampion.title}}</div>
                                        <div class="mainText">Games played: {{matches1.modeChampion.info.count}}</div>
                                    </div>
                                </div>
                                <div class="summaryRow">
                                    <img class="wrapperImage" src="/../../images/roles/{{matches1.modePosition.mode}}.png" />
                                    <div class="summaryInfo">
                                        <div class="mainText">Most Played Role</div>
                                        <div class="mainText">{{matches1.modePosition.mode}}</div>
                                        <div class="mainText">Games played: {{matches1.modePosition.count}}</div>
                                    </div>
                                </div>
                                <div class="summaryRow">
                                    <button class="distBtn" id="defaultDist" onclick="changeDist('roles1', 'champs1');">Role distribution</button><button class="distBtn active" onclick="changeDist('champs1', 'roles1');">Champion distribution</button>
                                    <div id="roles1" class="displayContent">
                                        <div id="pieR1" class="pieChart"></div>
                                    </div>
                                    <div id="champs1" class="displayContent">
                                        <div id="pieC1" class="pieChart"></div>
                                    </div>
                                </div>
                            </div>
                        {{else}}
                            <h2 class="mainText">{{summoner1.name}} has not played enough games on Summoner's Rift recently to get data</h2>
                        {{/if}}
                        </br>
                        <h2 class="mainText">VS</h2>
                        <br />
                        {{#if matches2.valid}}
                            <div class="rowContainer top">
                                <div class="summaryRow center">
                                    <img class="wrapperImage rounded" src="http://stelar7.no/cdragon/latest/profile-icons/{{ summoner2.profileIconId }}.jpg" />
                                    <div class="summaryInfo">
                                        <div class="mainText">{{summoner2.name}}</div>
                                        <div class="mainText">{{summoner2.region}}</div>
                                        <div class="mainText">Level: {{summoner2.summonerLevel}}</div>
                                        <div class="mainText"><a class="urlStyle" href="/lookup/{{summoner2.region}}/{{summoner2.name}}">VIEW PROFILE</a></div>
                                    </div>
                                </div>
                                <div class="summaryRow center">
                                    {{#if rankedInfo2.tier}}
                                        <img class="wrapperImage" src="/../../images/ranked/{{rankedInfo2.tier}}_{{rankedInfo2.rank}}.png" />
                                        <div class="summaryInfo">
                                            <div class="mainText">{{ rankedInfo2.tier }} {{rankedInfo2.rank}} </div>
                                            <div class="mainText">{{rankedInfo2.leaguePoints}} LP</div>
                                            <div class="mainText">Win: {{rankedInfo2.winRateRanked}}%</div>
                                            <div class="mainText">Games played: {{rankedInfo2.totalGamesRanked}}</div>
                                        </div>
                                    {{else}}
                                        <img class="wrapperImage" src="/../../images/ranked/unranked.png" />
                                        <div class="summaryInfo">
                                            <p class="mainText">Unranked</p>
                                        </div>
                                    {{/if}}
                                </div>
                                <div class="summaryRow center">
                                    <img class="wrapperImage rounded" src="http://stelar7.no/cdragon/latest/champion-icons/{{mastery2.championId}}.png" />
                                    <img class="wrapperImage" src="/../../images/mastery/champMasteryLevel_{{mastery2.championLevel}}.png" />
                                    <div class="summaryInfo">
                                        <div class="mainText">{{mastery2.championName}}, {{mastery2.championTitle}}</div>
                                        <div class="mainText">Points: {{mastery2.championPoints}}</div>
                                    </div>
                                </div>
                            </div>
                            <div class="summaryTitle">
                                Role/Champion distribution of {{summoner2.name}} over last {{matches2.ids.length}} games </br>
                                Win Ratio: {{matches2.winRatio}}%
                            </div>
                            <div class="rowContainer bottom">
                                <div class="summaryRow">
                                    <img class="wrapperImage rounded" src="http://stelar7.no/cdragon/latest/champion-icons/{{matches2.modeChampion.info.mode}}.png" />
                                    <div class="summaryInfo">
                                        <div class="mainText underline">Most Played Champion</div>
                                        <div class="mainText">{{matches2.modeChampion.name}}, {{matches2.modeChampion.title}}</div>
                                        <div class="mainText">Games played: {{matches2.modeChampion.info.count}}</div>
                                    </div>
                                </div>
                                <div class="summaryRow">
                                    <img class="wrapperImage" src="/../../images/roles/{{matches2.modePosition.mode}}.png" />
                                    <div class="summaryInfo">
                                        <div class="mainText underline">Most Played Role</div>
                                        <div class="mainText">{{matches2.modePosition.mode}}</div>
                                        <div class="mainText">Games played: {{matches2.modePosition.count}}</div>
                                    </div>
                                </div>
                                <div class="summaryRow">
                                    <button class="distBtn1" id="defaultDist1" onclick="changeDist('roles2', 'champs2');">Role distribution</button><button class="distBtn1 active" onclick="changeDist('champs2', 'roles2');">Champion distribution</button>
                                    <div id="roles2" class="displayContent">
                                        <div id="pieR2" class="pieChart"></div>
                                    </div>
                                    <div id="champs2" class="displayContent">
                                        <div id="pieC2" class="pieChart"></div>
                                    </div>
                                </div>
                            </div>
                        {{else}}
                            <h2 class="mainText">{{summoner2.name}} has not played enough games on Summoner's Rift recently to get data</h2>
                        {{/if}}
                        <h2 class="mainText">Stat Comparison</h2>
                        {{#if noValidMatches}}
                            <h2 class="mainText">{{summoner1.name}}  and {{summoner2.name}} have not played enough games on Summoner's Rift recently to get match data</h2>
                        {{else}}
                            {{#if matches1.valid}}
                                {{#if matches2.valid}}
                                    <h4 class="mainText">{{summoner1.name}} vs {{summoner2.name}} over last {{matches1.ids.length}} games</h4>
                                    <div class="mainText">
                                        {{#each averages}}
                                            {{this.statName}}: {{this.summOne}} / {{this.summTwo}} / {{this.delta}}</br>
                                        {{/each}}
                                {{else}}
                                    <h2 class="mainText">{{summoner2.name}} has not played enough games on Summoner's Rift recently to get match data</h2>
                                {{/if}}
                            {{else}}
                                <h2 class="mainText">{{summoner1.name}} has not played enough games on Summoner's Rift recently to get match data</h2>
                            {{/if}}
                        {{/if}}
                        </div>
                    </div>
                </br>
                </br>
                <div class="mainText">
                    <a class="urlStyle" href="/legal">LOLSTATS.GG - Legal Information</a>
                </div>
                </div>
            {{else}}
                <div class="mainText">
                    {{summoner2.name}} does not exist on server {{summoner2.region}}
                </div>
            {{/if}}
        {{else}}
            <div class="mainText">
                {{summoner1.name}} does not exist on server {{summoner1.region}}
            </div>
        {{/if}}
    {{else}}
        <div class="mainText">
            Invalid region "{{summoner2.region}}" for {{summoner2.name}}
        </div>
    {{/if}}
{{else}}
    <div class="mainText">
        Invalid region "{{summoner1.region}}" for {{summoner1.name}}
    </div>
{{/if}}
